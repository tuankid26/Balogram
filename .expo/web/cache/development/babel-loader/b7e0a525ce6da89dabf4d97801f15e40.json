{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\VietAnh\\\\Balogram\\\\screen\\\\NewFeedScreen.js\";\nimport React, { useState, useEffect, version, useCallback } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { Avatar } from 'react-native-elements';\nimport { MaterialCommunityIcons, Ionicons, Octicons } from \"@expo/vector-icons\";\nimport FeedImage from \"../images/Store_local_image/anhquan.jpg\";\nimport FeedImage1 from \"../images/Store_local_image/anh2.jpg\";\nimport FeedImage2 from \"../images/Store_local_image/anh3.jpg\";\nimport { theme } from \"../components/core/theme\";\nimport Modal from \"react-native-modal\";\nimport { post } from \"../handle_api\";\nimport { useSelector, useDispatch } from 'react-redux';\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width;\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nimport { LinePartition, Comment, Slider } from \"../components\";\nimport { NavigationContainer } from '@react-navigation/native';\nexport default function NewFeedScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      datapost = _useState2[0],\n      setDatapost = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imagePath = _useState4[0],\n      setImagePath = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refreshing = _useState6[0],\n      setRefreshing = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      toggleItem = _useState8[0],\n      setToggleItem = _useState8[1];\n\n  var token = useSelector(function (state) {\n    return state.authReducer.token;\n  });\n\n  var onLikePress = function onLikePress(userId, postId) {};\n\n  var onDislikePress = function onDislikePress(userId, postId) {};\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isModalVisible = _useState10[0],\n      setModalVisible = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isModalReportVisible = _useState12[0],\n      setModalReportVisible = _useState12[1];\n\n  var toggleModal = function toggleModal(item) {\n    setModalVisible(!isModalVisible);\n    setToggleItem(item);\n  };\n\n  var toggleEditPost = function toggleEditPost() {\n    setModalVisible(!isModalVisible);\n    navigation.navigate(\"EditPostScreen\", {\n      toggleItem: toggleItem\n    });\n  };\n\n  var toggleDeletePost = function toggleDeletePost() {\n    setModalVisible(!isModalVisible);\n    var data = {\n      \"postId\": toggleItem._id,\n      \"token\": token\n    };\n    post.deletePost(data).then(function (res) {\n      console.log(res.data);\n    }).catch(function (error) {\n      console.log(\"Failed\");\n      console.log(error.response.data);\n    });\n  };\n\n  var toggleReportModal = function toggleReportModal() {\n    setModalReportVisible(!isModalReportVisible);\n    setModalVisible(false);\n  };\n\n  var onSearchPress = function onSearchPress() {\n    navigation.navigate(\"SearchScreen\");\n  };\n\n  var onRefresh = useCallback(function () {\n    setRefreshing(true);\n    post.getListPost_newfeed(token).then(function (res) {\n      setDatapost(res.data.data.reverse());\n      console.log(\"refrssssh\");\n    }).catch(function (error) {\n      console.log(\"Failed\");\n      console.log(error);\n      console.log(\"Log done\");\n    });\n    wait(1000).then(function () {\n      return setRefreshing(false);\n    });\n  }, []);\n  useEffect(function () {\n    post.getListPost_newfeed(token).then(function (res) {\n      setDatapost(res.data.data.reverse());\n      console.log(datapost.length);\n    }).catch(function (error) {\n      console.log(\"Failed\");\n    });\n  }, []);\n\n  var splitDateTime = function splitDateTime(raw_date) {\n    var list_text = raw_date.split(\":\");\n    var l_date_hour = list_text[0].split(\"T\");\n    var date = l_date_hour[0];\n    var hour_minute = l_date_hour[1] + \":\" + list_text[1];\n    var new_text = date + \" lúc \" + hour_minute;\n    return new_text;\n  };\n\n  var onAddPost = function onAddPost() {\n    navigation.navigate('NewPostScreen');\n  };\n\n  var onComment = function onComment(postId, userId) {\n    navigation.navigate('CommentScreen', {\n      postId: postId,\n      userId: userId\n    });\n  };\n\n  var _renderItem = function renderItem(item) {\n    var date_time = splitDateTime(item.updatedAt);\n    return React.createElement(View, {\n      style: styles.containerPost,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.containerPostHeader,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: styles.containerUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, React.createElement(Avatar, {\n      size: 40,\n      rounded: true,\n      source: FeedImage,\n      containerStyle: {\n        marginLeft: 5,\n        marginTop: 5\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }), React.createElement(View, {\n      style: {\n        flexDirection: 'column'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, React.createElement(Text, {\n      style: styles.containerUserName,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, item.author.username), React.createElement(Text, {\n      style: styles.containerHour,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    }, date_time))), React.createElement(View, {\n      style: styles.optionDot,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, React.createElement(MaterialCommunityIcons, {\n      name: \"dots-vertical\",\n      style: styles.dotStyle,\n      onPress: function onPress() {\n        return toggleModal(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }))), React.createElement(View, {\n      style: styles.containerFeed,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, item.described), React.createElement(View, {\n      style: styles.containerImage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, React.createElement(Slider, {\n      item: item.images,\n      index: 0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    })), React.createElement(View, {\n      style: styles.containerReact,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: styles.numberReact,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, \"10 l\\u01B0\\u01A1\\u0323t thi\\u0301ch\"), React.createElement(View, {\n      style: styles.reactIconBox,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }\n    }, React.createElement(MaterialCommunityIcons, {\n      name: \"heart-outline\",\n      style: styles.reactIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 29\n      }\n    }), React.createElement(Octicons, {\n      name: \"comment\",\n      style: styles.reactIcon,\n      onPress: function onPress() {\n        return onComment(item._id, item.author._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    })), React.createElement(Text, {\n      style: styles.comment,\n      onPress: function onPress() {\n        return onComment(item._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    }, \"View Comments...\"), React.createElement(Comment, {\n      postID: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }))));\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: theme.colors.white,\n    barStyle: \"dark-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.headerBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.headerLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, \"BaloGram\")), React.createElement(View, {\n    style: styles.headerRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-search-outline\",\n    style: styles.icon,\n    onPress: onSearchPress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }), React.createElement(MaterialCommunityIcons, {\n    name: \"plus-box-outline\",\n    style: styles.icon,\n    color: \"#59B7EC\",\n    onPress: onAddPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }))), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, React.createElement(Modal, {\n    isVisible: isModalVisible,\n    animationIn: \"slideInUp\",\n    style: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 21\n    }\n  }, React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleEditPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 29\n    }\n  }, \"Chi\\u0309nh s\\u01B0\\u0309a ba\\u0300i \\u0111\\u0103ng\")), React.createElement(LinePartition, {\n    color: theme.colors.silver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleDeletePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, \"Xo\\u0301a ba\\u0300i \\u0111\\u0103ng\")), React.createElement(LinePartition, {\n    color: theme.colors.silver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleReportModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 29\n    }\n  }, \"Ba\\u0301o x\\xE2\\u0301u\")))), React.createElement(Modal, {\n    isVisible: isModalReportVisible,\n    animationIn: \"slideInUp\",\n    style: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    title: \"Ly\\u0301 do ba\\u0301o x\\xE2\\u0301u\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleReportModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 29\n    }\n  }, \"N\\xF4\\u0323i dung nha\\u0323y ca\\u0309m\")), React.createElement(LinePartition, {\n    color: theme.colors.silver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleReportModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 29\n    }\n  }, \"La\\u0300m phi\\xEA\\u0300n\")), React.createElement(LinePartition, {\n    color: theme.colors.silver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleReportModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 29\n    }\n  }, \"L\\u01B0\\u0300a \\u0111a\\u0309o\")), React.createElement(LinePartition, {\n    color: theme.colors.silver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: toggleReportModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }, \"Nh\\xE2\\u0323p ly\\u0301 do kha\\u0301c\")))), React.createElement(FlatList, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }),\n    initialNumToRender: 7,\n    data: datapost,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return _renderItem(item);\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item._id.toString();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  backgroundVideo: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  numberReact: {\n    fontSize: 18\n  },\n  button: {\n    backgroundColor: theme.colors.white,\n    color: theme.colors.black,\n    width: width,\n    height: 35,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  text: {\n    fontSize: 16,\n    lineHeight: 21,\n    letterSpacing: 0.25,\n    color: theme.colors.black\n  },\n  dotStyle: {\n    fontSize: 25\n  },\n  modal: {\n    justifyContent: 'flex-end',\n    margin: 0\n  },\n  dotSlideStyle: {\n    width: 10,\n    height: 10,\n    borderRadius: 5\n  },\n  containerPostHeader: {\n    flexDirection: 'row'\n  },\n  optionDot: {\n    backgroundColor: theme.colors.white,\n    flex: 2 / 3,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  containerImage: {\n    flex: 1\n  },\n  containerReact: {\n    flex: 2,\n    paddingBottom: 15\n  },\n  headerBar: {\n    height: 40,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: theme.colors.white\n  },\n  headerLeft: {\n    flex: 1\n  },\n  headerRight: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    flexDirection: 'row'\n  },\n  containerPost: {\n    borderWidth: 1,\n    borderColor: theme.colors.background,\n    borderRadius: 7\n  },\n  container: {\n    flex: 1\n  },\n  containerInfo: {\n    margin: 20\n  },\n  containerUser: {\n    flex: 1,\n    backgroundColor: theme.colors.white,\n    flexDirection: 'row'\n  },\n  containerUserName: {\n    color: theme.colors.black,\n    fontSize: 16,\n    marginLeft: 5\n  },\n  containerHour: {\n    color: '#838383',\n    fontSize: 14,\n    marginLeft: 5\n  },\n  containerFeed: {\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    backgroundColor: theme.colors.white,\n    flex: 1\n  },\n  image: {\n    flex: 1,\n    width: width * 150 / 100,\n    height: width * 200 / 100,\n    resizeMode: 'contain'\n  },\n  avatarImage: {\n    flex: 1,\n    width: 40,\n    height: 55,\n    resizeMode: 'contain'\n  },\n  comment: {\n    color: theme.colors.secondary,\n    fontSize: 15,\n    marginLeft: 10,\n    fontWeight: 'bold'\n  },\n  title: {\n    fontSize: 24,\n    color: theme.colors.logo,\n    padding: 20\n  },\n  icon: {\n    fontSize: 25,\n    marginRight: 15\n  },\n  reactIconBox: {\n    flexDirection: 'row'\n  },\n  reactIcon: {\n    fontSize: 30,\n    margin: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/VietAnh/Balogram/screen/NewFeedScreen.js"],"names":["React","useState","useEffect","version","useCallback","Avatar","MaterialCommunityIcons","Ionicons","Octicons","FeedImage","FeedImage1","FeedImage2","theme","Modal","post","useSelector","useDispatch","Dimensions","get","width","wait","timeout","Promise","resolve","setTimeout","LinePartition","Comment","Slider","NavigationContainer","NewFeedScreen","navigation","datapost","setDatapost","imagePath","setImagePath","refreshing","setRefreshing","toggleItem","setToggleItem","token","state","authReducer","onLikePress","userId","postId","onDislikePress","isModalVisible","setModalVisible","isModalReportVisible","setModalReportVisible","toggleModal","item","toggleEditPost","navigate","toggleDeletePost","data","_id","deletePost","then","res","console","log","catch","error","response","toggleReportModal","onSearchPress","onRefresh","getListPost_newfeed","reverse","length","splitDateTime","raw_date","list_text","split","l_date_hour","date","hour_minute","new_text","onAddPost","onComment","renderItem","date_time","updatedAt","styles","containerPost","containerPostHeader","containerUser","marginLeft","marginTop","flexDirection","containerUserName","author","username","containerHour","optionDot","dotStyle","containerFeed","described","containerImage","images","containerReact","numberReact","reactIconBox","reactIcon","comment","flex","colors","white","headerBar","headerLeft","title","headerRight","icon","modal","button","text","silver","toString","StyleSheet","create","backgroundVideo","position","top","left","bottom","right","fontSize","backgroundColor","color","black","height","alignItems","justifyContent","lineHeight","letterSpacing","margin","dotSlideStyle","borderRadius","paddingBottom","borderWidth","borderColor","background","container","containerInfo","image","resizeMode","avatarImage","secondary","fontWeight","logo","padding","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, version, useCallback } from 'react'\r\nimport {\r\n    StyleSheet, View, Text, Image,\r\n    FlatList, StatusBar, Dimensions,\r\n    Button, Pressable, RefreshControl\r\n} from 'react-native'\r\nimport { Avatar } from 'react-native-elements';\r\nimport { MaterialCommunityIcons, Ionicons, Octicons } from 'react-native-vector-icons';\r\nimport FeedImage from '../images/Store_local_image/anhquan.jpg';\r\nimport FeedImage1 from '../images/Store_local_image/anh2.jpg';\r\nimport FeedImage2 from '../images/Store_local_image/anh3.jpg';\r\nimport { theme } from '../components/core/theme'\r\nimport Modal from \"react-native-modal\";\r\nimport { post } from \"../handle_api\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nconst { width } = Dimensions.get('window')\r\n\r\nconst wait = (timeout) => {\r\n    return new Promise(resolve => setTimeout(resolve, timeout));\r\n}\r\n\r\n\r\n\r\n\r\nimport {\r\n    LinePartition,\r\n    Comment,\r\n    Slider\r\n}\r\n    from '../components'\r\nimport { NavigationContainer } from '@react-navigation/native';\r\n\r\n\r\n\r\nexport default function NewFeedScreen({ navigation }) {\r\n    const [datapost, setDatapost] = useState(\"\");\r\n    const [imagePath, setImagePath] = useState(\"\");\r\n    const [refreshing, setRefreshing] = useState(false);\r\n    const [toggleItem, setToggleItem] = useState(\"\");\r\n    const token = useSelector(state => state.authReducer.token);\r\n    const onLikePress = (userId, postId) => {\r\n    }\r\n    const onDislikePress = (userId, postId) => {\r\n    }\r\n    const [isModalVisible, setModalVisible] = useState(false);\r\n    const [isModalReportVisible, setModalReportVisible] = useState(false);\r\n    const toggleModal = (item) => {\r\n        setModalVisible(!isModalVisible);\r\n        setToggleItem(item);\r\n\r\n    };\r\n\r\n    const toggleEditPost = () => {\r\n        setModalVisible(!isModalVisible);\r\n        // console.log(toggleItem);\r\n        navigation.navigate(\"EditPostScreen\", { toggleItem });\r\n\r\n    }\r\n\r\n    const toggleDeletePost = () => {\r\n        setModalVisible(!isModalVisible);\r\n        const data = {\r\n            \"postId\": toggleItem._id,\r\n            \"token\": token\r\n        }\r\n        post.deletePost(data)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                // console.log(data.images)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Failed\");\r\n                console.log(error.response.data);\r\n            })\r\n\r\n    }\r\n\r\n\r\n    const toggleReportModal = () => {\r\n        setModalReportVisible(!isModalReportVisible);\r\n        setModalVisible(false)\r\n    }\r\n    const onSearchPress = () => {\r\n        navigation.navigate(\"SearchScreen\")\r\n    }\r\n\r\n\r\n\r\n    const onRefresh = useCallback(() => {\r\n\r\n        setRefreshing(true);\r\n\r\n        post.getListPost_newfeed(token)\r\n            .then(res => {\r\n                // console.log(res.data.data);\r\n\r\n                setDatapost(res.data.data.reverse());\r\n                console.log(\"refrssssh\");\r\n                // console.log(datapost[0]._id);\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Failed\")\r\n                console.log(error);\r\n                console.log(\"Log done\");\r\n            })\r\n\r\n        wait(1000).then(() => setRefreshing(false)\r\n\r\n        );\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        post.getListPost_newfeed(token)\r\n            .then(res => {\r\n                setDatapost(res.data.data.reverse());\r\n                console.log(datapost.length);\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Failed\")\r\n            })\r\n\r\n    }, []);\r\n\r\n    const splitDateTime = (raw_date) => {\r\n        // 2021-11-14T17:16:51.653Z\r\n        const list_text = raw_date.split(\":\");\r\n        const l_date_hour = list_text[0].split(\"T\")\r\n        const date = l_date_hour[0];\r\n        const hour_minute = l_date_hour[1] + \":\" + list_text[1];\r\n        const new_text = date + \" lúc \" + hour_minute;\r\n        return new_text;\r\n    }\r\n    const onAddPost = () => {\r\n        navigation.navigate('NewPostScreen');\r\n    }\r\n    const onComment = (postId, userId) => {\r\n        navigation.navigate('CommentScreen', { postId: postId, userId: userId });\r\n    }\r\n\r\n\r\n    const renderItem = (item) => {\r\n        const date_time = splitDateTime(item.updatedAt);\r\n\r\n        return (\r\n            <View style={styles.containerPost}>\r\n                <View style={styles.containerPostHeader}>\r\n                    <View style={styles.containerUser}>\r\n                        <Avatar\r\n                            size={40}\r\n                            rounded\r\n                            source={FeedImage}\r\n                            containerStyle={{ marginLeft: 5, marginTop: 5 }}\r\n                        />\r\n                        <View style={{\r\n                            flexDirection: 'column'\r\n                        }}>\r\n                            <Text style={styles.containerUserName}>{item.author.username}</Text>\r\n                            <Text style={styles.containerHour}>{date_time}</Text>\r\n                        </View>\r\n                    </View>\r\n                    <View style={styles.optionDot}>\r\n                        <MaterialCommunityIcons name=\"dots-vertical\" style={styles.dotStyle} onPress={() => toggleModal(item)} />\r\n                    </View>\r\n                </View>\r\n                <View style={styles.containerFeed}>\r\n                    <Text>\r\n                        {item.described}\r\n                    </Text>\r\n                    <View style={styles.containerImage}>\r\n                        <Slider item={item.images} index={0} />\r\n                        <Text></Text>\r\n                    </View>\r\n\r\n                    <View style={styles.containerReact}>\r\n                        <Text style={styles.numberReact}>10 lượt thích</Text>\r\n                        <View style={styles.reactIconBox}>\r\n                            <MaterialCommunityIcons name=\"heart-outline\" style={styles.reactIcon} />\r\n                            <Octicons name=\"comment\" style={styles.reactIcon} onPress={() => onComment(item._id, item.author._id)} />\r\n                        </View>\r\n                        <Text style={styles.comment}\r\n                            onPress={() => onComment(item._id)}\r\n                        >\r\n                            View Comments...\r\n                        </Text>\r\n                        <Comment postID={item._id} />\r\n                    </View>\r\n                </View>\r\n\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <View style={{ flex: 1 }}>\r\n            <StatusBar\r\n                backgroundColor={theme.colors.white}\r\n                barStyle=\"dark-content\"\r\n            />\r\n            <View style={styles.headerBar}>\r\n                <View style={styles.headerLeft}>\r\n                    <Text style={styles.title}>BaloGram</Text>\r\n                </View>\r\n                <View style={styles.headerRight}>\r\n                    <Ionicons name=\"md-search-outline\" style={styles.icon} onPress={onSearchPress} />\r\n                    <MaterialCommunityIcons name=\"plus-box-outline\" style={styles.icon} color='#59B7EC' onPress={onAddPost} />\r\n                </View>\r\n            </View>\r\n            {/* <LinePartition color={theme.colors.background} /> */}\r\n            <View style={{ flex: 1 }}>\r\n                <Modal\r\n                    isVisible={isModalVisible}\r\n                    animationIn='slideInUp'\r\n                    style={styles.modal}\r\n                >\r\n                    <View>\r\n                        <Pressable style={styles.button} onPress={toggleEditPost}>\r\n                            <Text style={styles.text}>Chỉnh sửa bài đăng</Text>\r\n                        </Pressable>\r\n                        <LinePartition color={theme.colors.silver} />\r\n                        <Pressable style={styles.button} onPress={toggleDeletePost}>\r\n                            <Text style={styles.text}>Xóa bài đăng</Text>\r\n                        </Pressable>\r\n                        <LinePartition color={theme.colors.silver} />\r\n                        <Pressable style={styles.button} onPress={toggleReportModal}>\r\n                            <Text style={styles.text}>Báo xấu</Text>\r\n                        </Pressable>\r\n                    </View>\r\n                </Modal>\r\n                <Modal\r\n                    isVisible={isModalReportVisible}\r\n                    animationIn='slideInUp'\r\n                    style={styles.modal}\r\n                >\r\n                    <View>\r\n                        <Text title=\"Lý do báo xấu\"></Text>\r\n                        <Pressable style={styles.button} onPress={toggleReportModal}>\r\n                            <Text style={styles.text}>Nội dung nhạy cảm</Text>\r\n                        </Pressable>\r\n                        <LinePartition color={theme.colors.silver} />\r\n                        <Pressable style={styles.button} onPress={toggleReportModal}>\r\n                            <Text style={styles.text}>Làm phiền</Text>\r\n                        </Pressable>\r\n                        <LinePartition color={theme.colors.silver} />\r\n                        <Pressable style={styles.button} onPress={toggleReportModal}>\r\n                            <Text style={styles.text}>Lừa đảo</Text>\r\n                        </Pressable>\r\n                        <LinePartition color={theme.colors.silver} />\r\n                        <Pressable style={styles.button} onPress={toggleReportModal}>\r\n                            <Text style={styles.text}>Nhập lý do khác</Text>\r\n                        </Pressable>\r\n                    </View>\r\n                </Modal>\r\n\r\n                <FlatList\r\n                    // numColumns={1}\r\n                    // horizontal={false}\r\n                    refreshControl={\r\n                        <RefreshControl\r\n                            refreshing={refreshing}\r\n                            onRefresh={onRefresh}\r\n                        />\r\n                    }\r\n                    initialNumToRender={7}\r\n                    data={datapost}\r\n                    renderItem={({ item }) => renderItem(item)}\r\n                    keyExtractor={(item) => item._id.toString()}\r\n                />\r\n            </View>\r\n        </View>\r\n\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    backgroundVideo: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    },\r\n    numberReact: {\r\n        fontSize: 18\r\n    },\r\n    button: {\r\n        backgroundColor: theme.colors.white,\r\n        color: theme.colors.black,\r\n        width: width,\r\n        height: 35,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    text: {\r\n        fontSize: 16,\r\n        lineHeight: 21,\r\n        letterSpacing: 0.25,\r\n        color: theme.colors.black,\r\n    },\r\n    dotStyle: {\r\n        fontSize: 25,\r\n    },\r\n    modal: {\r\n        justifyContent: 'flex-end',\r\n        margin: 0\r\n    },\r\n    dotSlideStyle: {\r\n        width: 10,\r\n        height: 10,\r\n        borderRadius: 5,\r\n    },\r\n    containerPostHeader: {\r\n        flexDirection: 'row',\r\n    },\r\n    optionDot: {\r\n        backgroundColor: theme.colors.white,\r\n        flex: 2 / 3,\r\n        justifyContent: 'flex-end',\r\n        alignItems: 'center',\r\n        flexDirection: 'row',\r\n    },\r\n    containerImage: {\r\n        flex: 1,\r\n        // borderColor: 'red',\r\n        // borderWidth: 2,\r\n    },\r\n    containerReact: {\r\n        flex: 2,\r\n        // borderColor: 'red',\r\n        // borderWidth: 2,\r\n        paddingBottom: 15\r\n    },\r\n    headerBar: {\r\n        height: 40,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        backgroundColor: theme.colors.white,\r\n    },\r\n\r\n    headerLeft: {\r\n        flex: 1,\r\n    },\r\n    headerRight: {\r\n        flex: 1,\r\n        justifyContent: 'flex-end',\r\n        flexDirection: 'row',\r\n    },\r\n    containerPost: {\r\n        borderWidth: 1,\r\n        borderColor: theme.colors.background,\r\n        borderRadius: 7,\r\n    },\r\n    container: {\r\n        flex: 1,\r\n    },\r\n    containerInfo: {\r\n        margin: 20\r\n    },\r\n    containerUser: {\r\n        flex: 1,\r\n        backgroundColor: theme.colors.white,\r\n        flexDirection: 'row',\r\n    },\r\n    containerUserName: {\r\n        color: theme.colors.black,\r\n        fontSize: 16,\r\n        marginLeft: 5,\r\n        // borderColor: 'red',\r\n        // borderWidth: 1,\r\n        // marginTop: 12,\r\n        // alignItems:'flex-start'\r\n    },\r\n    containerHour: {\r\n        color: '#838383',\r\n        fontSize: 14,\r\n        marginLeft: 5,\r\n    },\r\n    containerFeed: {\r\n        justifyContent: 'flex-start',\r\n        alignItems: 'flex-start',\r\n        backgroundColor: theme.colors.white,\r\n        flex: 1,\r\n    },\r\n    image: {\r\n        flex: 1,\r\n        width: width * 150 / 100,\r\n        height: width * 200 / 100,\r\n        resizeMode: 'contain'\r\n    },\r\n    avatarImage: {\r\n        flex: 1,\r\n        width: 40,\r\n        height: 55,\r\n        resizeMode: 'contain',\r\n    },\r\n    comment: {\r\n        color: theme.colors.secondary,\r\n        fontSize: 15,\r\n        marginLeft: 10,\r\n        fontWeight: 'bold'\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        color: theme.colors.logo,\r\n        padding: 20,\r\n    },\r\n    icon: {\r\n        fontSize: 25,\r\n        marginRight: 15\r\n    },\r\n    reactIconBox: {\r\n        flexDirection: 'row',\r\n    },\r\n    reactIcon: {\r\n        fontSize: 30,\r\n        margin: 10\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}