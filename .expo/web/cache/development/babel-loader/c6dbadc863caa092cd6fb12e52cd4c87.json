{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\VietAnh\\\\Balogram\\\\screen\\\\RegisterScreen.js\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { theme } from \"../components/core/theme\";\nimport { Background, Title, TextInput, Button, BackButton } from \"../components\";\nimport Toast from 'react-native-toast-message';\nimport { auth } from \"../handle_api\";\nexport default function RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      phonenumber = _useState2[0],\n      setPhonenumber = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var onRegisterPressed = function onRegisterPressed() {\n    var data = {\n      phonenumber: phonenumber,\n      username: username,\n      password: password\n    };\n\n    if (data.password.length < 6) {\n      Toast.show({\n        type: 'error',\n        text1: 'Mật khẩu phải lớn hơn 6 kí tự'\n      });\n    } else {\n      auth.register(data).then(function (res) {\n        console.log(res);\n        Toast.show({\n          type: 'success',\n          text1: 'Đăng ký thành công'\n        });\n        navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'LoginScreen'\n          }]\n        });\n      }).catch(function (error) {\n        console.log(error.response.data);\n        Toast.show({\n          type: 'error',\n          text1: 'Số điện thoại đã được đăng ký'\n        });\n      });\n    }\n\n    ;\n  };\n\n  return React.createElement(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(Toast, {\n    topOffset: \"80\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, React.createElement(BackButton, {\n    goBack: navigation.goBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })), React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"BaloGram\"), React.createElement(TextInput, {\n    label: \"Ho\\u0323 va\\u0300 t\\xEAn\",\n    returnKeyType: \"next\",\n    value: username,\n    onChangeText: function onChangeText(text) {\n      return setUsername(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    label: \"S\\xF4\\u0301 \\u0111i\\xEA\\u0323n thoa\\u0323i\",\n    returnKeyType: \"next\",\n    value: phonenumber,\n    onChangeText: function onChangeText(text) {\n      return setPhonenumber(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), React.createElement(TextInput, {\n    label: \"M\\xE2\\u0323t kh\\xE2\\u0309u\",\n    returnKeyType: \"done\",\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    mode: \"contained\",\n    onPress: onRegisterPressed,\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"Register\"));\n}\nvar styles = StyleSheet.create({\n  forgotPassword: {\n    width: \"100%\",\n    alignItems: \"flex-end\",\n    marginBottom: 24\n  },\n  buttonContainer: {\n    alignItems: 'flex-start',\n    width: '100%',\n    marginBottom: 70,\n    marginTop: -40\n  },\n  row: {\n    flexDirection: \"row\",\n    marginTop: 4\n  },\n  forgot: {\n    fontSize: 13,\n    color: theme.colors.secondary\n  },\n  link: {\n    fontWeight: \"bold\",\n    color: theme.colors.link\n  },\n  button: {\n    backgroundColor: theme.colors.button\n  }\n});","map":{"version":3,"sources":["C:/Users/VietAnh/Balogram/screen/RegisterScreen.js"],"names":["React","useState","theme","Background","Title","TextInput","Button","BackButton","Toast","auth","RegisterScreen","navigation","phonenumber","setPhonenumber","username","setUsername","password","setPassword","onRegisterPressed","data","length","show","type","text1","register","then","res","console","log","reset","index","routes","name","catch","error","response","styles","buttonContainer","goBack","text","button","StyleSheet","create","forgotPassword","width","alignItems","marginBottom","marginTop","row","flexDirection","forgot","fontSize","color","colors","secondary","link","fontWeight","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { StyleSheet, View } from \"react-native\";\r\nimport { theme } from \"../components/core/theme\";\r\nimport {\r\n  Background,\r\n  Title,\r\n  TextInput,\r\n  Button,\r\n  BackButton,\r\n} from \"../components\";\r\nimport Toast from 'react-native-toast-message';\r\nimport { auth } from '../handle_api';\r\nexport default function RegisterScreen({ navigation }) {\r\n  const [phonenumber, setPhonenumber] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  \r\n\r\n  const onRegisterPressed = () => {\r\n    const data = {\r\n      phonenumber: phonenumber,\r\n      username: username,\r\n      password: password,\r\n    };\r\n    // console.log(data)\r\n    if (data.password.length < 6) {\r\n      Toast.show({\r\n        type: 'error',\r\n        text1: 'Mật khẩu phải lớn hơn 6 kí tự'\r\n      });\r\n    }\r\n    else {\r\n      auth.register(data)\r\n        .then(res => {\r\n          console.log(res);\r\n          Toast.show({\r\n            type: 'success',\r\n            text1: 'Đăng ký thành công'\r\n          });\r\n          navigation.reset({\r\n            index: 0,\r\n            routes: [{ name: 'LoginScreen' }],\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data)\r\n          Toast.show({\r\n            type: 'error',\r\n            text1: 'Số điện thoại đã được đăng ký'\r\n          })\r\n          // Toast.show({\r\n          //   type: 'success',\r\n          //   text1: 'Đăng ký thành công'\r\n          // });\r\n        })\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Background>\r\n      <Toast topOffset='80' />\r\n      <View style={styles.buttonContainer}>\r\n        <BackButton goBack={navigation.goBack} />\r\n      </View>\r\n      <Title>BaloGram</Title>\r\n      <TextInput\r\n        label=\"Họ và tên\"\r\n        returnKeyType=\"next\"\r\n        value={username}\r\n        onChangeText={(text) => setUsername(text)}\r\n      />\r\n      <TextInput\r\n        label=\"Số điện thoại\"\r\n        returnKeyType=\"next\"\r\n        value={phonenumber}\r\n        onChangeText={(text) => setPhonenumber(text)}\r\n      // error={!!email.error}\r\n      // errorText={email.error}\r\n      // autoCapitalize=\"none\"\r\n      // autoCompleteType=\"email\"\r\n      // textContentType=\"emailAddress\"\r\n      // keyboardType=\"email-address\"\r\n      />\r\n      <TextInput\r\n        label=\"Mật khẩu\"\r\n        returnKeyType=\"done\"\r\n        value={password}\r\n        onChangeText={(text) => setPassword(text)}\r\n        // error={!!password}\r\n        // errorText={password}\r\n        secureTextEntry\r\n      />\r\n      <Button\r\n        mode=\"contained\"\r\n        onPress={onRegisterPressed}\r\n        style={styles.button}\r\n      >\r\n        Register\r\n      </Button>\r\n    </Background>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  forgotPassword: {\r\n    width: \"100%\",\r\n    alignItems: \"flex-end\",\r\n    marginBottom: 24,\r\n  },\r\n  buttonContainer: {\r\n    alignItems: 'flex-start',\r\n    width: '100%',\r\n    marginBottom: 70,\r\n    marginTop: -40\r\n    // justifyContent:'flex-start'\r\n  },\r\n  row: {\r\n    flexDirection: \"row\",\r\n    marginTop: 4,\r\n  },\r\n  forgot: {\r\n    fontSize: 13,\r\n    color: theme.colors.secondary,\r\n  },\r\n  link: {\r\n    fontWeight: \"bold\",\r\n    color: theme.colors.link,\r\n  },\r\n  button: {\r\n    backgroundColor: theme.colors.button,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}